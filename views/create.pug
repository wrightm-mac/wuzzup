extends layout

include ./mixins/puzzle/blurb

block content

  section.puzzle
    legend My Puzzles
    div.standard-center-panel
      a(href='/puzzle/edit.html').standard-bumper-button New Puzzle

  section(style='display:none;')#puzzle-drafts.puzzle
    legend My Drafts

    each puzzle in puzzles
      if ! puzzle.published
        +blurb(puzzle, true)

  section(style='display:none;')#puzzle-published.puzzle
    legend My Published

    each puzzle in puzzles
      if puzzle.published
        +blurb(puzzle, false)

  script.
    $(function() {
      if ($("section#puzzle-drafts article.puzzle-blurb").length) {
        $("section#puzzle-drafts").show();
      }
      if ($("section#puzzle-published article.puzzle-blurb").length) {
        $("section#puzzle-published").show();
      }
    });